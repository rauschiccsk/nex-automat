# INIT PROMPT - NEX Automat: Database Table Docs Migration (Batch 6 Continue)

**Projekt:** nex-automat  
**√öloha:** Database table docs migration (batch 6 continuation - Products section)  
**Developer:** Zolt√°n (40 rokov sk√∫senost√≠)  
**Jazyk:** Slovenƒçina  
**Previous Session:** https://claude.ai/chat/[CURRENT_CHAT_URI]  
**Status:** 8/28 dokumentov dokonƒçen√Ωch, **20 zost√°va**

---

## ‚ö†Ô∏è KRITICK√â: COLLABORATION RULES

**MUS√ç≈† dodr≈æiava≈• 22 pravidiel z memory_user_edits!**

Kƒæ√∫ƒçov√© pravidl√° pre t√∫to session:
- **Rule #7:** CRITICAL artifacts pre v≈°etky dokumenty/k√≥d
- **Rule #8:** Step-by-step, confirmation pred pokraƒçovan√≠m
- **Rule #20:** "novy chat" = **3 artifacts** (ARCHIVE, INIT, commit) - **SESSION_NOTES.md ZRU≈†EN√ù!**
- **Rule #5:** Slovak language, presn√° terminol√≥gia projektov
- **Rule #22:** Na zaƒçiatku ka≈æd√©ho chatu skontrolova≈• v≈°etky pravidl√°

---

## ‚úÖ ƒåO SME DOKONƒåILI V PREVIOUS SESSION

### Partners Section - COMPLETE! (8 dokumentov)

1. **PAGLST-partner_categories.md** (14.9 KB ‚Üí 7.0 KB, 53%)
2. **PAYLST-payment_methods.md** (8.3 KB ‚Üí 4.2 KB, 49%)
3. **TRPLST-transport_methods.md** (8.6 KB ‚Üí 4.3 KB, 50%)
4. **PANOTI-partner_catalog_texts.md** (15.4 KB ‚Üí 6.5 KB, 58%)
5. **PASUBC-partner_catalog_facilities.md** (18.0 KB ‚Üí 7.5 KB, 58%)

**Plus predch√°dzaj√∫ce:**
- BANKLST-bank_catalog.md (script #32)
- PAB-partner_catalog.md (script #33)
- PABACC-partner_catalog_bank_accounts.md (script #34)
- PACNCT-partner_catalog_contacts.md (script #35)

### Products Section - Started

**BARCODE-product_catalog_identifiers.md-old:**
- Size: 24.2 KB
- Location: STORES (BARCODE.BTR + GSCAT.BTR)
- Status: Naƒç√≠tan√Ω, ready for cleanup

---

## üìä PROGRESS

**Dokonƒçen√©:** 8/28 dokumentov (28.6%)  
**Zost√°va:** 20 database table dokumentov

**By Category:**
- ‚úÖ **Partners:** 8/8 (100%) - **COMPLETE**
- ‚è≥ **Products:** 0/5 (0%) - BARCODE loaded
- ‚è≥ **Stock Management:** 0/7 (0%)
- ‚è≥ **Accounting:** 0/3 (0%)
- ‚è≥ **Sales:** 0/1 (0%)

---

## üéØ ƒåO TREBA UROBI≈§ TERAZ

### Priority 1: Cleanup BARCODE (PRV√â!)

**BARCODE-product_catalog_identifiers.md-old** (24.2 KB):
- Location: STORES (BARCODE.BTR + GSCAT.BTR)
- Oƒçak√°van√° redukcia: ~58% (cca 10 KB)
- **User m√° u≈æ dokument naƒç√≠tan√Ω z predch√°dzaj√∫cej session**

### Priority 2: Pokraƒçova≈• Products Section

**Zost√°vaj√∫ce Products dokumenty (4):**

1. **FGLST-product_categories.md-old** (16.1 KB)
2. **GSCAT-product_catalog.md-old** (20.7 KB) ‚ö†Ô∏è VEƒΩK√ù
3. **MGLST-product_categories.md-old** (17.4 KB)
4. **SGLST-product_categories.md-old** (20.1 KB)

**V≈°etky pravdepodobne v adres√°ri STORES** (overi≈• pri ka≈ædom).

---

## üìÇ ZOST√ÅVAJ√öCE DOKUMENTY (20 total)

### Catalogs - Products (5 s√∫borov)

- BARCODE-product_catalog_identifiers.md-old (24.2 KB) ‚Üê **TERAZ**
- FGLST-product_categories.md-old (16.1 KB)
- GSCAT-product_catalog.md-old (20.7 KB) ‚ö†Ô∏è VEƒΩK√ù
- MGLST-product_categories.md-old (17.4 KB)
- SGLST-product_categories.md-old (20.1 KB)

### Stock Management (7 s√∫borov)

- FIF-stock_card_fifos.md-old (28.5 KB)
- STK-stock_cards.md-old (38.5 KB) ‚ö†Ô∏è VEƒΩK√ù
- STKLST-stocks.md-old (20.4 KB)
- STM-stock_card_movements.md-old (35.6 KB) ‚ö†Ô∏è VEƒΩK√ù
- WRILST-facilities.md-old (17.9 KB)
- TSH-supplier_delivery_heads.md-old (25.4 KB)
- TSI-supplier_delivery_items.md-old (29.7 KB)

### Accounting (3 s√∫bory)

- ISH-supplier_invoice_heads.md-old (34.8 KB)
- ISI-supplier_invoice_items.md-old (29.6 KB)
- PAYJRN-payment_journal.md-old (25.8 KB)

### Sales (1 s√∫bor)

- PLSnnnnn-price_list_items.md-old (20.5 KB)

---

## üîß KRITICK√â TECHNICK√â INFO

### Btrieve Locations (zisten√©)

**DIALS adres√°r:**
- BANKLST.BTR, PAB.BTR, PABACC.BTR, PACNCT.BTR
- PAGLST.BTR, PAYLST.BTR, TRPLST.BTR
- PANOTI.BTR, PASUBC.BTR

**STORES adres√°r:**
- BARCODE.BTR
- GSCAT.BTR

**Oƒçak√°van√©:** V√§ƒç≈°ina Products s√∫borov pravdepodobne v STORES, ale v≈ædy sa op√Ωta≈•!

### Form√°t √öprav

**Prid√°vame:**
- Popis Btrieve s√∫boru:
  ```markdown
  ### Btrieve s√∫bor
  - **N√°zov:** [FILE].BTR
  - **Umiestnenie:** `C:\NEX\YEARACT\[DIR]\[FILE].BTR`
    - Premenn√° ƒças≈•: `C:\NEX\` (root path)
    - Fixn√° ƒças≈•: `\YEARACT\[DIR]\`
  - **√öƒçel:** [popis]
  ```
- Aktualizovan√© metad√°ta (d√°tum: 2025-12-15)

**Odstra≈àujeme:**
- CREATE TABLE statements
- CREATE INDEX statements
- CREATE TRIGGER statements
- CREATE FUNCTION statements
- Query patterns (SQL bloky)
- Python migration code
- Veƒæk√© INSERT pr√≠klady

**Zachov√°vame:**
- Mapping pol√≠ (Btrieve ‚Üí PostgreSQL)
- Biznis logika (koncepƒçn√Ω popis)
- Vz≈•ahy s in√Ωmi tabuƒækami (popis)
- Validaƒçn√© pravidl√° (koncepƒçn√Ω popis)
- Pozn√°mky pre migr√°ciu (koncepƒçn√©, BEZ k√≥du)
- Mal√© pr√≠klady d√°t (uk√°≈ækov√©)

### Priemern√° Redukcia

**49-58% veƒækosti** (overen√© na 8 dokumentoch)

---

## üí° KRITICK√â POZN√ÅMKY PRE MIGR√ÅCIU

### 1. bank_code NIE je FK!

**V partner_catalog_bank_accounts:**
- `bank_code` je textov√° hodnota
- NIE FK constraint na bank_catalog
- D√¥vod: denormaliz√°cia, flexibility

### 2. FirstName/LastName SWAP!

**V PACNCT.BTR (partner_catalog_contacts):**
- Btrieve FirstName = priezvisko
- Btrieve LastName = meno
- Pri migr√°cii MUS√çME swapova≈•!

### 3. GDPR Compliance

**PACNCT.BTR - NEPREN√Å≈†AME:**
- Adresa trval√©ho pobytu
- Doklady toto≈ænosti
- D√°tum a miesto narodenia
- Obƒçianstvo

### 4. Mapping Dictionary Pattern

**Pre ƒç√≠seln√≠ky (PAGLST, PAYLST, TRPLST):**
- Najprv migrova≈• ƒç√≠seln√≠k
- Vytvori≈• mapping dictionary (Code ‚Üí ID)
- Pou≈æi≈• pri migr√°cii PAB.BTR

---

## üìù WORKFLOW CHANGES

### Simplified Workflow (Adopted in Previous Session)

1. **Claude vytvor√≠ 1 artifact** - vyƒçisten√Ω .md obsah
2. **User skop√≠ruje obsah** do s√∫boru
3. **User zma≈æe star√Ω .md-old** manu√°lne
4. **≈Ωiadne scripty** (boli zbytoƒçn√©)

### "novy chat" Workflow Change

**STAR√ù workflow (zru≈°en√Ω):**
- 4 artifacts: SESSION_YYYY-MM-DD, SESSION_NOTES, INIT, commit

**NOV√ù workflow (platn√Ω od teraz):**
- **3 artifacts:** SESSION_YYYY-MM-DD, INIT, commit
- **SESSION_NOTES.md ZRU≈†EN√ù** - duplicitn√Ω, m√°me podrobn√© session arch√≠vy

---

## üìç DOKUMENTAƒåN√â ≈†TANDARDY

### Documentation Manifest Location

```
C:\Development\nex-automat\SESSION_NOTES\docs.json
```

### GitHub Raw URL Pattern

```
https://raw.githubusercontent.com/rauschiccsk/nex-automat/develop/[path]
```

### Script Naming (Historical)

```
[NUMBER]_update_[TABLE]_doc.py
```

**Note:** Scripts s√∫ teraz deprecated, ale numbering pattern zost√°va pre hist√≥riu.

---

## ‚ö° WORKFLOW BEST PRACTICES

### Overen√Ω Proces

1. **Naƒç√≠taj dokument** (web_fetch)
2. **Op√Ωtaj sa na Btrieve location** (user poskytne adres√°r)
3. **Vytvor upraven√Ω dokument** (artifact)
4. **User skop√≠ruje obsah + zma≈æe star√Ω s√∫bor**
5. **Pokraƒçuj ƒèal≈°√≠m dokumentom**

### Komunik√°cia

‚úÖ **Struƒçne** - ≈æiadny verbose output  
‚úÖ **Akcie** - artifacts, konkr√©tne kroky  
‚úÖ **ƒåakanie** - po ka≈ædom artifacte ƒçaka≈• na potvrdenie  
‚úÖ **Progress** - token stats na konci ka≈ædej odpovede

---

## üöÄ IMMEDIATE ACTION

**Prv√Ω krok po naƒç√≠tan√≠ tohto promptu:**

1. Skontroluj memory_user_edits (22 pravidiel) ‚úÖ
2. Op√Ωtaj sa: "Skop√≠roval si u≈æ BARCODE dokument do s√∫boru a zmazal .md-old?"
3. Ak √ÅNO ‚Üí "Pokraƒçujem s ƒèal≈°√≠m dokumentom? (FGLST-product_categories.md-old)"
4. Ak NIE ‚Üí "Vytvor√≠m artifact pre BARCODE cleanup"

**Odpor√∫ƒçan√Ω workflow:**
1. **Dokonƒçi≈• BARCODE** (ak e≈°te nie)
2. **Naƒç√≠ta≈• FGLST-product_categories.md-old**
3. **Op√Ωta≈• sa na adres√°r**
4. **Vytvori≈• 1 artifact** (cleaned doc)
5. **User skop√≠ruje + zma≈æe**
6. **Pokraƒçova≈• ƒèal≈°√≠m**

---

## üìà SUCCESS METRICS

**Pre t√∫to session oƒçak√°vame:**
- ‚úÖ BARCODE cleanup dokonƒçen√Ω (ak e≈°te nie)
- ‚úÖ 4-5 Products dokumentov dokonƒçen√Ωch
- ‚úÖ Progress: 12-13/28 s√∫borov (43-46%)

**Estimated time:** 90-120 min√∫t

---

## üéØ DECISION FRAMEWORK QUICK REFERENCE

| Typ dokumentu | Rozhodnutie | Pr√≠klad |
|---------------|-------------|---------|
| Database table mapping | CLEAN + KEEP | V≈°etky .md-old v batch 6 |
| SQL scripts | REMOVE | CREATE TABLE, INDEX, TRIGGER |
| Python migration code | REMOVE | Veƒæk√© bloky k√≥du |
| Mapping tables | KEEP | Btrieve ‚Üí PostgreSQL |
| Biznis logika | KEEP | Koncepƒçn√Ω popis |
| Query patterns | REMOVE | Mnoho SQL SELECT blokov |
| Pr√≠klady d√°t | KEEP MINIMAL | Mal√© uk√°≈ækov√© INSERT |

---

## üîß QUICK COMMANDS FOR REFERENCE

```powershell
# Git workflow
git status
git add docs/
git commit -m "docs: Database table docs batch 6 - products (N docs)"
git push origin develop

# Generate manifests
python tools/generate_manifests.py
```

---

**Token Budget:** 190,000  
**Estimated Session:** 90-120 min√∫t  
**Ready to Continue:** ‚úÖ √ÅNO

---

**KONIEC INIT PROMPTU**